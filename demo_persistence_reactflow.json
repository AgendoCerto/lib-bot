{
  "nodes": [
    {
      "id": "__start_global",
      "type": "start",
      "data": {
        "entry_kind": "global_start",
        "final": false,
        "kind": "start",
        "target": "collect_name",
        "title": "Início"
      },
      "position": {
        "x": 100,
        "y": 50
      },
      "width": 120,
      "height": 60,
      "draggable": true,
      "selectable": true,
      "deletable": false,
      "sourcePosition": "bottom",
      "targetPosition": "left"
    },
    {
      "id": "collect_name",
      "type": "text",
      "data": {
        "final": false,
        "kind": "text",
        "persistence": {
          "enabled": true,
          "key": "full_name",
          "required": true,
          "sanitization": {
            "custom_regex": "",
            "description": "Formatação de nome próprio",
            "replacement": "",
            "strict_mode": false,
            "type": "name_case"
          },
          "scope": "profile"
        },
        "props": {
          "persistence": {
            "enabled": true,
            "key": "full_name",
            "required": true,
            "sanitization": {
              "custom_regex": "",
              "description": "Formatação de nome próprio",
              "replacement": "",
              "strict_mode": false,
              "type": "name_case"
            },
            "scope": "profile"
          },
          "text": "Olá! Para começar, qual é o seu nome completo?"
        },
        "title": "Coleta de Nome"
      },
      "position": {
        "x": 0,
        "y": 0
      },
      "width": 250,
      "height": 80,
      "draggable": true,
      "selectable": true,
      "deletable": true,
      "sourcePosition": "bottom",
      "targetPosition": "top"
    },
    {
      "id": "collect_phone",
      "type": "text",
      "data": {
        "final": false,
        "kind": "text",
        "persistence": {
          "enabled": true,
          "key": "phone_number",
          "required": true,
          "sanitization": {
            "custom_regex": "",
            "description": "Formatar telefone brasileiro",
            "replacement": "",
            "strict_mode": true,
            "type": "phone"
          },
          "scope": "profile"
        },
        "props_ref": "phone_props",
        "title": "Coleta de Telefone"
      },
      "position": {
        "x": 0,
        "y": 0
      },
      "width": 250,
      "height": 80,
      "draggable": true,
      "selectable": true,
      "deletable": true,
      "sourcePosition": "bottom",
      "targetPosition": "top"
    },
    {
      "id": "collect_cpf",
      "type": "text",
      "data": {
        "final": false,
        "kind": "text",
        "persistence": {
          "enabled": true,
          "key": "document_cpf",
          "sanitization": {
            "custom_regex": "",
            "description": "Validar e formatar CPF",
            "replacement": "",
            "strict_mode": false,
            "type": "cpf"
          },
          "scope": "context"
        },
        "props": {
          "persistence": {
            "enabled": true,
            "key": "document_cpf",
            "sanitization": {
              "custom_regex": "",
              "description": "Validar e formatar CPF",
              "replacement": "",
              "strict_mode": false,
              "type": "cpf"
            },
            "scope": "context"
          },
          "text": "Agora preciso do seu CPF:"
        },
        "title": "Coleta de CPF"
      },
      "position": {
        "x": 0,
        "y": 0
      },
      "width": 250,
      "height": 80,
      "draggable": true,
      "selectable": true,
      "deletable": true,
      "sourcePosition": "bottom",
      "targetPosition": "top"
    },
    {
      "id": "final_message",
      "type": "text",
      "data": {
        "final": true,
        "kind": "text",
        "props": {
          "text": "Obrigado {{profile.full_name}}! Seus dados foram salvos."
        },
        "title": "Mensagem Final"
      },
      "position": {
        "x": 0,
        "y": 0
      },
      "width": 250,
      "height": 80,
      "draggable": true,
      "selectable": true,
      "deletable": false,
      "sourcePosition": "bottom",
      "targetPosition": "top"
    }
  ],
  "edges": [
    {
      "id": "__edge_start_collect_name",
      "source": "__start_global",
      "target": "collect_name",
      "type": "default",
      "animated": false,
      "deletable": false,
      "selectable": true,
      "label": "início",
      "markerEnd": "arrowclosed",
      "sourceHandle": "bottom",
      "targetHandle": "top"
    },
    {
      "id": "e0_collect_name_collect_phone",
      "source": "collect_name",
      "target": "collect_phone",
      "type": "default",
      "data": {
        "label": "next"
      },
      "animated": false,
      "deletable": true,
      "selectable": true,
      "label": "next",
      "markerEnd": "arrowclosed",
      "sourceHandle": "bottom",
      "targetHandle": "top"
    },
    {
      "id": "e1_collect_phone_collect_cpf",
      "source": "collect_phone",
      "target": "collect_cpf",
      "type": "default",
      "data": {
        "label": "next"
      },
      "animated": false,
      "deletable": true,
      "selectable": true,
      "label": "next",
      "markerEnd": "arrowclosed",
      "sourceHandle": "bottom",
      "targetHandle": "top"
    },
    {
      "id": "e2_collect_cpf_final_message",
      "source": "collect_cpf",
      "target": "final_message",
      "type": "default",
      "data": {
        "label": "next"
      },
      "animated": false,
      "deletable": true,
      "selectable": true,
      "label": "next",
      "markerEnd": "arrowclosed",
      "sourceHandle": "bottom",
      "targetHandle": "top"
    }
  ],
  "defaultEdgeOptions": {
    "type": "default",
    "markerEnd": "arrowclosed",
    "deletable": true,
    "selectable": true
  },
  "defaultNodeOptions": {
    "draggable": true,
    "selectable": true,
    "sourcePosition": "right",
    "targetPosition": "left"
  },
  "layout": {
    "direction": "TB",
    "applied": false,
    "algorithm": "hierarchical"
  }
}